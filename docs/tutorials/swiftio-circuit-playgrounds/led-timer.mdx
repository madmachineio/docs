---
title: LED blink using timer
description: Learn how to
---

# LED blink using timer

In this tutorial, youâ€™ll try a new way to blink the LED - blink triggered by a timer. 

In the previous projects, you successfully blink LEDs, and also learn about the interrupt. So this time, you will use a timer to set the interrupt to blink the LED.

**Learning goals**
* Learn how to use a timer to trigger the interrupt.
* Blink the LED in a new way.



## ðŸ”¸Background

### What is a timer?
You have known that the interrupt can be triggered by the state change of an input pin. With this mechanism, the microcontroller can trigger an interrupt once a rising edge or falling edge is detected.

And this time, you will know about another way to trigger the interrupt using a timer. It allows the interrupt to happen at every specified time interval.

For example, in the first section, you make the LED to blink using sleep(). It pauses the microcontroller there for a certain amount of time and does nothing, which would be quite a waste of time if you want it to do something else. If you use a timer, the microcontroller could do many other things and would stop automatically if itâ€™s time for the interrupt execution. 


## ðŸ”¸Circuit - LED module
<img
  src={require('./img/LEDCircuit.png').default}
  alt="LED module on the kit" width="960"
/>

<img
  src={require('./img/LEDCircuitDiagram.png').default}
  alt="LED circuit diagram" width="360"
/>

:::note
The circuits above are simplified for your reference.
:::

## ðŸ”¸Preparation

**Class**
**`Timer`** -  this class is used to set interrupt at a specific time interval.

| Method | Explanation |
| ------ | ------------|
| `init(mode:period)` | Initialize a timer. <br />- **`mode`**: decide how many times the interrupt will happen: `.oneShot` or `.period`, `.period` by default to make the interrupt happen continuously. <br />- **`period`**: the time interval, measured in ms.|
| `setInterrupt(`<br />`start:_:)` | Set the condition to trigger the interrupt.  <br /> - **`start`**: decide whether it will start as you invoke this method, or you will start it manually later by using start(). <br />- **`callback`**: set the task for interrupt. It needs functions with no parameter and return value. |

## ðŸ”¸Projects
1. [LED blink using timer](./led-timer#1-led-blink-using-timer)


### 1. LED blink using timer
You will turn the LED on and off every second as you did before, but in a new way.

**Example code**

```swift
// Import the SwiftIO library to control input and output the SwiftIOFeather to use the id of the pins.
import SwiftIO
import MadBoard

// Initialize a digital pin for LED and a timer.
let led = DigitalOut(Id.D19)
let timer = Timer(period: 1000)

// Set an interrupt to reverse the LED state every second.
timer.setInterrupt() {
    led.toggle()
}

// Other times, the microcontroller just stops its work.
while true {
    sleep(ms: 9999)
}

```
**Code analysis**

```swift
let timer = Timer(period: 1000)
```



```swift
timer.setInterrupt() {
    led.toggle()
}
```



## ðŸ”¸Summary




## ðŸ”¸More info